{"poster":"Go Kart 4","date":"2016-02-08T06:13:43.068+0000","title":"Ping disparity between game client and Command Prompt pings/traceroutes","subforum":"Help & Support (OCE)","up_votes":1,"down_votes":0,"body":"Hi all,\r\n\r\nSorry if this seems like I&#039;m nitpicking here but as of late I&#039;ve been wondering why the client seems to be adding 6-7 ms to my ping when I&#039;m in-game as opposed to regular pings and/or traceroutes through Command Prompt.\r\n\r\nFor reference, my in-game ping sits between 26-30 while I regularly get 20-23 ms through other means. Below is a portion of a traceroute to one of the regions IPs.\r\nhttp://puu.sh/n02Y3/799758c50e.png\r\n\r\nIf anyone, preferably a Rioter could shed some light on this it would be much appreciated.\r\nCheers.","replies":[{"poster":"SephirothSG","date":"2016-02-08T06:19:12.137+0000","up_votes":1,"down_votes":0,"body":"Hey there,\n\nThis is due to you not sending the same size packets as the game client, I made a [nice little batch script](http://boards.oce.leagueoflegends.com/en/c/player-creations/Qgqm11ad-i-made-a-non-closed-source-ping-testing-tool-for-oce-other-regions) which should send semi-realistic packets and display the ping results nicely.","replies":[{"poster":"Go Kart 4","date":"2016-02-08T06:20:02.417+0000","up_votes":1,"down_votes":0,"body":"Ah, I forgot about packet sizes, thank you for the clarification.\n\nEDIT: After trying your batch script it [still seems to be showing 21-23 ms for the OCE server.](http://puu.sh/n03zY/996f5c4f4e.png)","replies":[{"poster":"SephirothSG","date":"2016-02-08T06:25:58.429+0000","up_votes":1,"down_votes":0,"body":"The closest hop that would respond to ICMP packets on the OCE server doesn't play nice with high packet sizes, so I had to lower them slightly.\n\nThe packet size im using in that script is merely speculation on my part, however it is relatively close to a realistic game packet.\n\nThere will of course still be some difference between the game (constantly sending data back and forth between client/server) and a ping, merely sending an ICMP request to a server and getting a pong back.","replies":[{"poster":"Go Kart 4","date":"2016-02-08T06:31:15.005+0000","up_votes":1,"down_votes":0,"body":"A [Riot Games engineering blog](https://engineering.riotgames.com/news/fixing-internet-real-time-applications-part-i) seems to state that a game packet is closer to 55 bytes in size (scroll down to the \"Routers Aren't Helping\" subheading).","replies":[{"poster":"SephirothSG","date":"2016-02-08T06:35:27.011+0000","up_votes":1,"down_votes":0,"body":"Assuming the client is sending these packets en masse, then the packet size used in my batch script will be closer to what is really being sent over X amount of time.","replies":[]}]}]}]}]}]}