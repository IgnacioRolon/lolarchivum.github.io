{"poster":"FrozenFlame","date":"2015-05-22T01:01:11.446+0000","title":"Intermittent drops in FPS","subforum":"Help & Support (OCE)","up_votes":1,"down_votes":0,"body":"Hi,\r\n\r\nI&#039;m experiencing intermittent drops in FPS. As in, one minute my FPS is 80 and the next it plummets down to 1-10 for a couple of seconds. \r\n\r\nIt seems to happen randomly, not just in team fights. It basically results in me not seeing what&#039;s happening on screen for a couple of seconds, and then everything catches up quickly.\r\n\r\nIt&#039;s not my ping, which is always 30. And I don&#039;t notice this issue in other games whether they be online or offline.\r\n\r\nI play on the highest settings at 2560x1600 with an 80 FPS cap, with v-sync turned off. I&#039;ve tried uncapped and it seems to happen more frequently (even though my FPS hits 120-180.) The issue is the same on the lowest settings as well.\r\n\r\nIt started happening since I changed computers. I have a dual quad-core @ 3GHz, GTX 285 1GB, 16GB RAM, 120GB SSD. Running Windows 7 Ultimate 64-bit (recent clean install and all updates installed.) I&#039;ve got the latest drivers for my GPU. And I don&#039;t have any intensive software that runs in the background.\r\n\r\nIs there anything I can do to try and fix this? It&#039;s usually not a pain, but can be annoying in a tough game and everything freezes in a team fight and then it&#039;s gg. (I only play ARAM btw.)","replies":[{"poster":"HORSE OF FORCE","date":"2015-05-22T07:08:12.190+0000","up_votes":1,"down_votes":0,"body":">2560x1600\n\nHave you tried switching to the standard 1080x1920? The client has been known to be really fussy when it comes to the resolution it's running at (even the patcher suffers from this).\n\nBased on the specs you provided, you should be running on around ~200 FPS on full settings. If you're only getting 80 then there might be something wrong with your computer's hardware (doubtful it's software because as you said, it's a fresh install). Do you still have warrantee on your system?\n\nIn the meantime, try checking for the obvious things such as your computer/driver over-heating (which is entirely possible if you built it yourself and didn't space them efficiently), power being sucked out somewhere, disable **automatic updates**, etc.","replies":[{"poster":"FrozenFlame","date":"2015-05-22T09:47:36.261+0000","up_votes":1,"down_votes":0,"body":"Thanks for your reply. I'll respond in point form so it's easy to read.\n\n1. I don't think 2560x1600 is the problem, as my previous computer ran at 2560x1440 without issue. (It had a GTX 775M 2GB.)\n2. To answer your question, I haven't tried switching to that resolution, however that's purely because I can't stand running games at a lower resolution.\n\n3. The reason it's only getting 80 FPS is because it's the capped setting in LoL. If set to uncapped, it gets between 120-180. And no it's well out of warranty.\n\n4. It's definitely not overheating -- I've been monitoring temperatures.\n\n5. I have gone through quite a lot of things already. Auto updates are disabled. I also don't have any anti-virus running.","replies":[{"poster":"HORSE OF FORCE","date":"2015-05-22T10:10:55.328+0000","up_votes":1,"down_votes":0,"body":"1. You'd be surprised.\n2. Just test it in Windowed mode. I'm not saying you have to permanently switch, but if you at least confirm that it works/doesn't do anything then it gives us some information to work with.\n3. Oh. Well that's good then, I guess. Now you just have to work out what's causing the drop.\n4. Cool. I used to have a system that did that, but I've since fixed it.\n5. That would have been the easiest to fix if it were the case, but alas it is not.\n\nHave you done a defrag? Check for dust in components? Try reinstalling the game (remember to back up everything if you do)?","replies":[{"poster":"FrozenFlame","date":"2015-05-23T02:32:18.402+0000","up_votes":1,"down_votes":0,"body":"I tested it at 1080p borderless. I didn't notice as much, or as severe stuttering, but there was still some. I only played one game though, and as I said it does tend to come and go so I'll try a few more over the next few days.\n\nAt highest settings my FPS caps out around 130 on 1080p (55% GPU load) and 130 FPS at 1600p (85-95% GPU load.) The most intensive part of the map seems to be in the middle where the two bushes are, however I'm still at 110+ FPS. I noticed scrolling on the map when an inhibitor / turret was being destroyed would cause a drop to around 60 FPS.\n\nI assume my CPU is bottlenecking the GPU, however 120 is pretty solid. I don't see why it'd randomly drop down to 15-25 sometimes. That's a big drop.\n\nActually, I checked again and automatic update is on. Must have forgotten about it. I'll turn it off and see how it goes -- though I can't see why it would affect anything considering I still have another 5 cores to be used if need be.\n\nI haven't done a defrag as it isn't needed on SSDs (and in fact is bad for them.) The computer was recently dusted, and I haven't tried re-installing but I'd keep that as a last resort.","replies":[{"poster":"HORSE OF FORCE","date":"2015-05-23T03:24:14.334+0000","up_votes":1,"down_votes":0,"body":">I tested it at 1080p borderless. I didn't notice as much, or as severe stuttering, but there was still some.\n\nFrom that we can deduce that it's something causing a general lack in available resources, ie. it's not something which is statically reducing your performance by 60 FPS or something. Unfortunately this means it'll be even harder to pinpoint, but at least we know now. Also, look over [this page](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting). You've already done most of it, but try out [resetting your graphics card software](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting#wq4), [configure Windows for best performance](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting#wq6) and [perform a registry clean](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting#wq9). Even if it's a fresh install, it could of still had something wrong done in its registry.\n\n>though I can't see why it would affect anything considering I still have another 5 cores to be used if need be.\n\nIf you could see the way Microsoft codes things in...\n\n>I haven't done a defrag as it isn't needed on SSDs (and in fact is bad for them.)\n\nWell, arguably the majority of computer still use hard-disks. I guess I should start asking about it before telling people to defrag. [This](http://forums.overclockers.co.uk/showthread.php?t=18553411) actually concerns me, as most people are using Windows 8.\n\nAlso you might want to look over the logs that your game is producing as its running. If you're savvy with that sort of language then it could tell you a lot about what's going on. Unfortunately I have no idea what they mean, so no point in uploading them to me.","replies":[{"poster":"FrozenFlame","date":"2015-05-26T00:16:41.949+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=HORSE OF FORCE,realm=OCE,application-id=ElA0rvVL,discussion-id=OdBf9tMu,comment-id=00000000000000000000,timestamp=2015-05-23T03:24:14.334+0000)\n>\n> From that we can deduce that it's something causing a general lack in available resources, ie. it's not something which is statically reducing your performance by 60 FPS or something. Unfortunately this means it'll be even harder to pinpoint, but at least we know now. Also, look over [this page](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting). You've already done most of it, but try out [resetting your graphics card software](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting#wq4), [configure Windows for best performance](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting#wq6) and [perform a registry clean](https://support.riotgames.com/hc/en-us/articles/201752684-Low-Frame-Rate-FPS-troubleshooting#wq9). Even if it's a fresh install, it could of still had something wrong done in its registry.\n\nI've set my NVIDIA control panel to give control to the application, so it shouldn't be interfering at all with what league is trying to do. Windows is configured for best performance, and I did a registry clean. I've done everything on that list, except for disabling all in-game sounds. And I'm constantly fiddling with settings to see the results.\n\nI notice in-game on the lowest settings, my GPU load is between 40-50%. I get around 250 FPS. On the highest settings, my GPU load is around 80-95% and I'm getting 120 FPS. Memory usage is only 55%. The load does change depending on where the camera is on the screen... the middle of the map near the center turrets seems to be the worst.\n\nI usually see one CPU core which is 85%+ usage, and another which is 60%+, and then the rest vary up to 20%.\n\nAnd then things will stutter, the FPS drops, and then it's back up a second later. It's clear I have a CPU bottleneck, so it must be LoL randomly needing to use more CPU than it does normally.\n\n\n> Well, arguably the majority of computer still use hard-disks. I guess I should start asking about it before telling people to defrag. [This](http://forums.overclockers.co.uk/showthread.php?t=18553411) actually concerns me, as most people are using Windows 8.\n> \n> Also you might want to look over the logs that your game is producing as its running. If you're savvy with that sort of language then it could tell you a lot about what's going on. Unfortunately I have no idea what they mean, so no point in uploading them to me.\n\nI did mention that I had an SSD, however you must have missed it. I've got Windows 7, and the software that comes with my SSD basically configures Windows for an SSD.","replies":[{"poster":"HORSE OF FORCE","date":"2015-05-27T12:54:54.729+0000","up_votes":1,"down_votes":0,"body":">I've set my NVIDIA control panel to give control to the application\n\nI have the Nvidia Control Panel myself. Each individual setting can be set to either one from Nvidia or from the application. Double check that it's all on application, if that's what you think will be best (could be that League is trying out a setting that you really shouldn't be using, eg. only use one core?)\n\n>except for disabling all in-game sounds.\n\nDo try this out. Problem might be with your sound card. Some cards will throttle their FPS based on sound, so if there's something wrong with the sound then disabling sound should completely fix it. (Of course, you'd still want sound, but the point of doing this is to pin-point the problem.)\n\n>usually see one CPU core which is 85%+ usage, and another which is 60%+, and then the rest vary up to 20%.\n\nAs formerly said, check to make sure Nvidia Control Panel is letting applications take full advantage of all your cores. That does seem like it's a bit unevenly distributed.\n\n>I've got Windows 7, and the software that comes with my SSD basically configures Windows for an SSD.\n\nNevermind then. :P","replies":[{"poster":"FrozenFlame","date":"2015-05-27T22:17:18.157+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=HORSE OF FORCE,realm=OCE,application-id=ElA0rvVL,discussion-id=OdBf9tMu,comment-id=0000000000000000000000000000,timestamp=2015-05-27T12:54:54.729+0000)\n>\n> I have the Nvidia Control Panel myself. Each individual setting can be set to either one from Nvidia or from the application. Double check that it's all on application, if that's what you think will be best (could be that League is trying out a setting that you really shouldn't be using, eg. only use one core?)\n\nI've set the global setting to allow the application to handle everything, so there shouldn't be any problem. I don't think the NVIDIA control panel has any control over how many cores are used, but if so it's set so League can do what it wants.\n\n\n> \n> Do try this out. Problem might be with your sound card. Some cards will throttle their FPS based on sound, so if there's something wrong with the sound then disabling sound should completely fix it. (Of course, you'd still want sound, but the point of doing this is to pin-point the problem.)\n\nAll right, I'll give it a go. That's annoying haha because I'll have to play an entire game or two with it. For the record I have a USB sound card.\n\n> As formerly said, check to make sure Nvidia Control Panel is letting applications take full advantage of all your cores. That does seem like it's a bit unevenly distributed.\n\nHmm it's never even. Usually a game can only utilise up to four cores, and most are only optimised (or can use) two or so. I can only think that league is only able to use two cores, and it's doing something periodically which is really intensive.\n\nI submitted a ticket as well, and in the process gave them the requested logs, and I read a few. Quite a few errors in there, though I didn't spot anything that I would be able to tell was the problem.\n\nAppreciate your help!","replies":[{"poster":"HORSE OF FORCE","date":"2015-05-28T11:01:19.384+0000","up_votes":1,"down_votes":0,"body":">I've set the global setting to allow the application to handle everything, so there shouldn't be any problem. I don't think the NVIDIA control panel has any control over how many cores are used, but if so it's set so League can do what it wants.\n\nJust try setting it manually. Maybe there was a glitch with the automatic setting manager. Nvidia aren't perfect programmers; no-one is.\n\n>All right, I'll give it a go. That's annoying haha because I'll have to play an entire game or two with it. For the record I have a USB sound card.\n\nHm... well did it work any better or no difference at all?\n\n>Hmm it's never even. Usually a game can only utilise up to four cores, and most are only optimised (or can use) two or so. I can only think that league is only able to use two cores, and it's doing something periodically which is really intensive.\n\nI agree with you there. It might cause errors on duo-core setups if they started using four cores instead of just two.\n\n>I submitted a ticket as well, and in the process gave them the requested logs, and I read a few. Quite a few errors in there, though I didn't spot anything that I would be able to tell was the problem.\n\nThere's *always* errors, even when everything is perfectly fine. Riot just don't like removing old, irrelevant code out of their game, so they still produce unrelated error messages when executed (which of course, mean nothing at all (I mean bloody hell, it complains that it can't find [Averdrian](http://leagueoflegends.wikia.com/wiki/Averdrian)'s resources)).\n\nThis is as frustrating as stroking a broken umbrella. It ain't gonna protect you from the flying water anymore, but you still need to deal with its weight. I feel your pain.","replies":[{"poster":"FrozenFlame","date":"2015-05-30T08:09:54.203+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=HORSE OF FORCE,realm=OCE,application-id=ElA0rvVL,discussion-id=OdBf9tMu,comment-id=000000000000000000000000000000000000,timestamp=2015-05-28T11:01:19.384+0000)\n>\n> Just try setting it manually. Maybe there was a glitch with the automatic setting manager. Nvidia aren't perfect programmers; no-one is.\n\nThat's what it was set to before pretty much, and now it's set to auto. Definitely don't think it's this.\n\n> \n> Hm... well did it work any better or no difference at all?\n\nNo difference I think. I still saw a stutter during the game.\n\n> There's *always* errors, even when everything is perfectly fine. Riot just don't like removing old, irrelevant code out of their game, so they still produce unrelated error messages when executed (which of course, mean nothing at all (I mean bloody hell, it complains that it can't find [Averdrian](http://leagueoflegends.wikia.com/wiki/Averdrian)'s resources)).\n> \n> This is as frustrating as stroking a broken umbrella. It ain't gonna protect you from the flying water anymore, but you still need to deal with its weight. I feel your pain.\n\nHaha I see. Well hopefully there is something they'll see in there that can help me.\n\nTo report:\n\nI notice the same periodic stuttering even at 2560x1600 on the lowest settings.\n\nI notice no stuttering on the highest settings at 1920x1080 on the highest settings.\n\nI notice no stuttering (so far) at 2560x1600 on the highest settings with borderless mode on (instead of full screen.)\n\nReally weird.","replies":[{"poster":"HORSE OF FORCE","date":"2015-05-31T05:23:32.343+0000","up_votes":1,"down_votes":0,"body":"Borderless mode op? Maybe there's something preventing your core from being used if the application is in full-screen mode. Do you know how to mess around with a dual-monitor/virtual monitor setup?\n\nHow about switching application focus away from League and then back to it once it's open?","replies":[]}]}]}]}]}]}]}]}]}]}]}]}