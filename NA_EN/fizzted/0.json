{"poster":"Fizzted","date":"2016-09-10T23:03:13.712+0000","title":"Can't Patch - Update Failed: Unspecified Error Has Occurred","subforum":"[ARCHIVED] Help & Support","up_votes":1,"down_votes":0,"body":"I can't seem to patch, it's especially odd since I've played for a while, patched dozens of times and never had any issue. The amount of files scanned varies before it fails each time I try it. It'll scan 218 files one time, then 491 another etc. \n\nLooking at the logs, the first error I get is the following (can post full logs if need be):\n\n000781.937|  ERROR| Riot::RADS::Common::LocalFileSystem::CopyFileA: Error 0x80004005: The process cannot access the file because it is being used by another process.\n\nHere's a chunk of logs where all the errors come up:\n\n000780.235|   OKAY| Riot::RADS::Common::ReleaseManifest::LoadNoFix: (\"C:/Riot Games/League of Legends/RADS/projects/lol_game_client_en_us/releases/0.0.1.73/releasemanifest\")\n000780.243|   OKAY| Riot::RADS::Common::ReleaseManifest::LoadFromFileHandle: Succeeded\n000780.243|   OKAY| Riot::RADS::Common::ReleaseManifest::LoadNoFix: (\"C:/Riot Games/League of Legends/RADS/projects/lol_game_client/releases/0.0.1.85/releasemanifest\")\n000781.920|   OKAY| Riot::RADS::Common::ReleaseManifest::LoadFromFileHandle: Succeeded\n000781.930|   OKAY| Riot::RADS::Common::DeleteEmptySubdirectories: Processing path: C:/Riot Games/League of Legends/RADS/solutions/lol_game_client_sln/releases/0.0.1.144/deploy\n000781.937|  ERROR| Riot::RADS::Common::LocalFileSystem::CopyFileA: Error 0x80004005: The process cannot access the file because it is being used by another process.\n000781.937|   OKAY| Riot::RADS::Patching::UpdateAndInstallSolutionShared::CopyUnmanagedFiles: Failed to copy \"C:/Riot Games/League of Legends/RADS/projects/lol_game_client/releases/0.0.1.85/deploy/BsSndRpt.exe\", checking it is not read-only\n000781.937|  ERROR| Riot::RADS::Common::LocalFileSystem::CopyFileA: Error 0x80004005: The process cannot access the file because it is being used by another process.\n000781.937|  ERROR| Riot::RADS::Patching::UpdateAndInstallSolutionShared::CopyUnmanagedFiles: C:/jenkins/workspace/rads-code-win-release/code/Solutions/RiotRADS/Source/RADS/Patching/Install/UpdateAndInstallSolutionShared.cpp(185): Failed to copy unmanaged file \"C:/Riot Games/League of Legends/RADS/projects/lol_game_client/releases/0.0.1.85/deploy/BsSndRpt.exe\" to solution deploy folder\n000781.937|  ERROR| Riot::RADS::Patching::UpdateAndInstallSolutionShared::CopyDeployFolder: C:/jenkins/workspace/rads-code-win-release/code/Solutions/RiotRADS/Source/RADS/Patching/Install/UpdateAndInstallSolutionShared.cpp(226): Failed to copy unmanaged files\n000781.947|  ERROR| Riot::RADS::Patching::InstallSolutionReleaseImpl::Execute::Execute: C:/jenkins/workspace/rads-code-win-release/code/Solutions/RiotRADS/Source/RADS/Patching/Install/InstallSolutionRelease.cpp(463): Failure while preparing solution deploy folder\n000781.947|  ERROR| Riot::RADS::Patching::InstallSolutionRelease: C:/jenkins/workspace/rads-code-win-release/code/Solutions/RiotRADS/Source/RADS/Patching/Install/InstallSolutionRelease.cpp(504): InstallSolutionRelease failed\n000781.951|  ERROR| Riot::LoLLauncherLib::`anonymous-namespace'::InstallLatestSolutionRelease: C:/jenkins/workspace/rads-code-win-release/code/Solutions/RiotRADS/Source/RADS/LoLPatcherLib/UpdateWorker.cpp(208): Failure or interruption while updating\n000781.952|   OKAY| Riot::LoLLauncherLib::AddProjectUpdateMetrics: project_update_metrics_internal_message_identifier : game - Update Time 63.9 sec, Downloaded 0 Bytes, Avg 0 BytesPerSec. Result: failure.\n000781.952|  ERROR| Riot::LoLLauncherLib::UpdateWorker::DoUpdateGame: C:/jenkins/workspace/rads-code-win-release/code/Solutions/RiotRADS/Source/RADS/LoLPatcherLib/UpdateWorker.cpp(451): Failed to install latest game client.\n000781.952| ALWAYS| Riot::LoLLauncherLib::UpdateWorker::Run: Patching lasted for 64.3 seconds. Result: failure.\n000781.952| ALWAYS| The following message is prepared to be sent to dradis:\nEvent Name: riot__rads__update\ncommon.application_name: LoLPatcher\ncommon.os_platform: Windows\ntotal_download_duration_secs: 0.000000\ncommon.region: NA\nair.download_duration_secs: 0.000000\ncommon.application_version: 0.51.0.219\ncommon.installation_id: WLJsCg==\ncommon.machine_id: o7qRY405gEOa111r0ZImNA==\ncommon.os_version_major: 7\ncommon.os_version_minor: Service Pack 1\ncommon.os_edition: Professional, x64\nrads_common.is_using_gridload: 0\nrads_common.patch_data_server_hostname: l3cdn.riotgames.com\nair.result: success\nair.duration_secs: 0.252178\ngame.result: failure\ngame.duration_secs: 63.949329\ngame.download_duration_secs: 0.000000\nair.p2p_bytes: 0\nair.total_bytes: 0\nair.cdn_bytes: 0\ngame.total_bytes: 0\ngame.cdn_bytes: 0\ngame.p2p_bytes: 0\ntotal_result: failure\ntotal_duration_secs: 64.294464\nfailure_identifier: [\"C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/LoLPatcherLib\\/UpdateWorker.cpp|451\",\"C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/LoLPatcherLib\\/UpdateWorker.cpp|208\",\"C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/InstallSolutionRelease.cpp|504\",\"C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/InstallSolutionRelease.cpp|463\",\"C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/UpdateAndInstallSolutionShared.cpp|226\",\"C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/UpdateAndInstallSolutionShared.cpp|185\"]\nlast_host_ip: 209.197.3.7\nfailure_description: [\"Riot::LoLLauncherLib::UpdateWorker::DoUpdateGame: C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/LoLPatcherLib\\/UpdateWorker.cpp(451): Failed to install latest game client.\",\"Riot::LoLLauncherLib::`anonymous-namespace'::InstallLatestSolutionRelease: C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/LoLPatcherLib\\/UpdateWorker.cpp(208): Failure or interruption while updating\",\"Riot::RADS::Patching::InstallSolutionRelease: C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/InstallSolutionRelease.cpp(504): InstallSolutionRelease failed\",\"Riot::RADS::Patching::InstallSolutionReleaseImpl::Execute::Execute: C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/InstallSolutionRelease.cpp(463): Failure while preparing solution deploy folder\",\"Riot::RADS::Patching::UpdateAndInstallSolutionShared::CopyDeployFolder: C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/UpdateAndInstallSolutionShared.cpp(226): Failed to copy unmanaged files\",\"Riot::RADS::Patching::UpdateAndInstallSolutionShared::CopyUnmanagedFiles: C:\\/jenkins\\/workspace\\/rads-code-win-release\\/code\\/Solutions\\/RiotRADS\\/Source\\/RADS\\/Patching\\/Install\\/UpdateAndInstallSolutionShared.cpp(185): Failed to copy unmanaged file \\\"C:\\/Riot Games\\/League of Legends\\/RADS\\/projects\\/lol_game_client\\/releases\\/0.0.1.85\\/deploy\\/BsSndRpt.exe\\\" to solution deploy folder\"]\nretry_count: 1\n\n\nAny ideas? Would it be that somehow one of the dll's in the game_client deploy folder is being used?","replies":[{"poster":"Fizzted","date":"2016-09-11T02:36:53.152+0000","up_votes":1,"down_votes":0,"body":"Thanks, I double checked all my settings. UAC was disabled, antivirus/firewall disable as well. I ended up re-installing this time running as administrator (I'm not even sure what I ran it as last time since it's been years). \n\nStill ran into the same issue, so I tried restarting my computer and I've just managed to patch successfully. Not sure why restarting helped exactly, but my guess is judging by the logs like it said some process using files needed by the patcher somehow ended up being used by another process and restarting must have ended that process. \n\nProbably should have tried restarting before reinstalling, but I have some other stuff running on this machine which makes restarting a pain. Writing this in hopes maybe it'll help anyone else encountering this issue. Patch too many times to count over the years and this is the first I've ran into something like this.\n\nTL;DR; Tried everything except restarting, restarted and it worked.","replies":[]},{"poster":"Porocles","date":"2016-09-10T23:55:01.692+0000","up_votes":1,"down_votes":0,"body":"It looks like the patcher is trying to scan your game files but is being blocked by some setting in your OS.  I suggest using the [permissions](https://support.riotgames.com/hc/en-us/articles/204134104-Setting-up-your-Permissions) guide to configure your settings to allow the patcher access.  Reach out if you still have any issues!","replies":[]}]}