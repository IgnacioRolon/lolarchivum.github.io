{"poster":"michaelchan","date":"2019-02-13T14:59:26.856+0000","title":"Boards Update - Character Encoding, Hot Sorting Fix, & Notification Service Fix","subforum":"Discuss the Boards","up_votes":9,"down_votes":0,"body":"Hi all,\n\nThe issue where characters were automatically decoded when a thread was initially posted has been resolved. \n\nWhat this means: When you first post a thread with characters like > or #, etc, it will no longer show as > or #, but rather as the appropriate markup. As an example, this thread will include the quotation markup, which would have not have encoded properly prior to the update, and would've required a thread edit to fix. No more \"amp;gt;\"'s.\n\n> This is the example quote\n\nI'd like to thank the folks who've been working on this fix, along with many of the other issues that've been brought up. And of course, thanks to all of you for your reports. \n\nThat being said, the Notification System is now working again, and the Hot sorting appears to be working as well!\n\nCheers!","replies":[{"poster":"Salvor Hardın","date":"2019-02-13T15:09:34.030+0000","up_votes":2,"down_votes":0,"body":"> No more \"amp;gt;\"'s\n\nGoodbye to those days of having to edit the post as soon as you publish it.\nhttps://uploads.disquscdn.com/images/0c97cbc7ed9c81d89ad73d6c3195b2f0ae0415d79831d1c942103418f2a442de.gif\n\nA little question Wuks, do you think that someday we can have an application of the forum for mobiles?","replies":[{"poster":"michaelchan","date":"2019-02-13T15:11:05.174+0000","up_votes":1,"down_votes":0,"body":"Definitely a possibility. Will have to get back to you on this.","replies":[{"poster":"dome025","date":"2019-02-14T14:00:22.932+0000","up_votes":1,"down_votes":0,"body":"I think it´s broken again. At least posts which have more downvotes than upvotes are stuck in the hot section (even though they should normally disappear).","replies":[]}]}]},{"poster":"KFCeytron","date":"2019-02-17T08:48:15.142+0000","up_votes":1,"down_votes":0,"body":"I actually had an issue recently where a \">\" that I'd manually HTML-encoded so that it would show up as such was being turned into a quoted section as if I'd used the bare character. The resulting post was different from the live preview, which showed a literal \">\" character. The only way I could get the literal character to show up properly in the actual post was to escape with a backslash. Is this related to the fix that forces the leading \">\" characters in an OP to be parsed as block quote markdown rather than escaped?\n\nI'm gonna go ahead and try it again here.\n\n> this has a simple leading \">\" which should be the only one of these that shows a block quote\n\nand \n\n> this is encoded with gt\n\nand\n\n> this is encoded with #62\n\nand\n\n\\> this is escaped with a backslash","replies":[{"poster":"KFCeytron","date":"2019-02-17T08:53:27.055+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=KFCeytron,realm=NA,application-id=6heBIhQc,discussion-id=jOR1xNhn,comment-id=0004,timestamp=2019-02-17T08:48:15.142+0000)\n>\n> I actually had an issue recently where a \">\" that I'd manually HTML-encoded so that it would show up as such was being turned into a quoted section as if I'd used the bare character. The resulting post was different from the live preview, which showed a literal \">\" character. The only way I could get the literal character to show up properly in the actual post was to escape with a backslash. Is this related to the fix that forces the leading \">\" characters in an OP to be parsed as block quote markdown rather than escaped?\n> \n> I'm gonna go ahead and try it again here.\n> \n> and \n> \n> and\n> \n> and\n> \n> \\> this is escaped with a backslash\n\nNow that that's confirmed as breaking the old workaround of HTML encoding, I wonder what happens with:\n\n> encoded with gt _and_ the ampersand encoded with amp\n\nand\n\n> encoded with 62 _and_ the ampersand encoded with 38\n\nand\n\n> each character in a gt encoding fully escaped (38, 103, 116, 59)","replies":[{"poster":"KFCeytron","date":"2019-02-17T08:56:24.513+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=KFCeytron,realm=NA,application-id=6heBIhQc,discussion-id=jOR1xNhn,comment-id=00040000,timestamp=2019-02-17T08:53:27.055+0000)\n>\n> Now that that's confirmed as breaking the old workaround of HTML encoding, I wonder what happens with:\n> \n> and\n> \n> and\n\nOkay, wow, that's some enthusiastic escaping there. I wonder what happens if I escape the \">\" over and over again:\n\n&amp;#62; There's a paragraph worth of \"&amp;#_nnn_;\" here, so I wonder if it'll all be collapsed into a single \">\" to make a block quote","replies":[{"poster":"KFCeytron","date":"2019-02-17T08:57:02.696+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=KFCeytron,realm=NA,application-id=6heBIhQc,discussion-id=jOR1xNhn,comment-id=000400000000,timestamp=2019-02-17T08:56:24.513+0000)\n>\n> Okay, wow, that's some enthusiastic escaping there. I wonder what happens if I escape the \">\" over and over again:\n> \n> > There's a paragraph worth of \"&amp;#_nnn_;\" here, so I wonder if it'll all be collapsed into a single \">\" to make a block quote\n\nOkay, one more level; let's see what happens.\n\n&amp;#38;&amp;#35;&amp;#54;&amp;#50;&amp;#59; that's a lot of escaping\n\nEDIT: Looks like it isn't unescaping forever in a loop until the content stops changing, but it's still _incredibly_ aggressive.","replies":[{"poster":"michaelchan","date":"2019-02-17T09:49:49.642+0000","up_votes":1,"down_votes":0,"body":"Intentional","replies":[{"poster":"KFCeytron","date":"2019-02-21T13:23:59.971+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=Wuks,realm=NA,application-id=6heBIhQc,discussion-id=jOR1xNhn,comment-id=00040000000000000000,timestamp=2019-02-17T09:49:49.642+0000)\n>\n> Intentional\n\nI just learned that this change also messes with hyperlinking a URL ending in a querystring and following it with an unsafe character (like [this](https://boards.na.leagueoflegends.com/en/c/community-moderation/jOR1xNhn-boards-update-character-encoding-hot-sorting-fix-notification-service-fix?comment=0001)). I even HTML-encoded the literal \")\" I wanted with ) to no avail.\n\nIt's displaying properly and showing the correct URL in the preview, but then I post it and it doesn't show up the same way.\n\nEDIT: I encoded the ampersand for the \"...I wanted with )\" so it would show an HTML escape code, but it unescaped that too. Escaping is just broken across the board (or Board, ha ha), and basically doesn't work anymore. This makes it a lot harder to write what we want to write. Personally, I don't think it was worth making certain things impossible to do just to avoid having to edit \">\" back into an OP, and would suggest reverting this change.","replies":[{"poster":"Wuks","date":"2019-02-21T17:14:03.454+0000","up_votes":1,"down_votes":0,"body":"As I understand it, this change will not be reverted due to security reasons.","replies":[{"poster":"KFCeytron","date":"2019-02-21T22:35:36.692+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=michaelchan,realm=NA,application-id=6heBIhQc,discussion-id=jOR1xNhn,comment-id=0004000000000000000000010000,timestamp=2019-02-21T17:14:03.454+0000)\n>\n> As I understand it, this change will not be reverted due to security reasons.\n\nHow could HTML escaped characters affect security? We can't even use HTML tags.\n\nCan we\nescape\nat all\nnow?\n\nEDIT: The four lines above were escaped multiple times: first line once, second line twice, etc. The preview displayed as Boards used to show, but, on posting, the first three lines didn't appear escaped, while the last appeared escaped. I refreshed a couple more times, and now all the escaping has been removed. Is HTML escaping fully not a thing anymore on Boards? That's gonna make it kinda hard to deal with formatting.","replies":[]}]}]},{"poster":"KFCeytron","date":"2019-02-17T10:17:22.466+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=Wuks,realm=NA,application-id=6heBIhQc,discussion-id=jOR1xNhn,comment-id=00040000000000000000,timestamp=2019-02-17T09:49:49.642+0000)\n>\n> Intentional\n\nLand o' Goshen.\n\nWhen the current team working on Boards applies this kind of fix, are you able to work with the original string that the user typed into the text field, or are you only able to access that content after some other part of the framework ~~mangles~~ processes it?","replies":[]}]}]}]}]}]},{"poster":"DrCyanide","date":"2019-02-14T14:03:19.580+0000","up_votes":1,"down_votes":0,"body":"https://www.youtube.com/watch?v=5VL_5MX7z94","replies":[]},{"poster":"2nd Chance","date":"2019-02-14T00:18:56.294+0000","up_votes":1,"down_votes":0,"body":"Bless","replies":[]}]}