{"poster":"Riot Koalifier","date":"2018-09-25T00:06:35.031+0000","title":"An Update on In-Game Performance","subforum":"Dev Corner","up_votes":1,"down_votes":0,"body":"Hey everyone! For the past several patches some of you have been reporting some in-game performance issues, and we're working to address them. We want to take a moment to review the situation and explain our approach.\r\n\r\nThere are actually several problems we've been dealing with, and we'll cover each individually:\r\nAverage FPS decreases\r\nIncrease in FPS hitching and frame drops\r\nComplete game freezes\r\n\r\n#Average FPS decreases\r\nAverage FPS is just that—the overall average number of frames rendered on your screen per second across an entire game. While important, this measurement isn't actually the most critical since as long as your FPS is stable, you're getting information at a consistent (though perhaps suboptimal) rate.\r\n\r\nAnother important note when discussing FPS: the number you see in game might be higher than what your monitor actually provides. Most monitors are 144Hz or 60Hz, which indicates the highest number of frames that monitor can render per second. If you, for example, are getting 170 FPS on a 144Hz monitor, 26 of those frames don't actually exist.\r\n\r\nhttps://imgur.com/zn0jP9J\r\n_PBE: Average FPS by system specs. Higher is better._\r\n\r\nAverage FPS significantly improved in 8.13, but most of that improvement has been slowly lost in the patches following. This happens because there's no single \"FPS tool\" to maintain—every time we add or adjust something in-game, it can impact performance. These days, new and updated content (skins, champs) tends to include various features (visuals, ability functionality, etc) with higher performance demands than older content. Making cooler stuff stretches the limits of what the game can do before FPS begins dropping. We've been working on a feature to meaningfully improve FPS, but have run into some challenges—more on that in a bit.\r\n\r\nhttps://imgur.com/SdT8VX3\r\n_Frame rates as of Sept 18._\r\n\r\n#Increase in FPS Hitching and frame drops\r\nFPS hitches are short, sudden drops in FPS, with frame drops being the worst cases (FPS dropping down to zero). Hitches are more impactful than low average FPS because, for a moment, the game gives you far less information than you're used to, throwing off your decision-making. Hitches are also generally triggered by something happening in the game, like casting an ability—the times where you most need the game to be telling you what's happening.\r\nhttps://imgur.com/I9gXyGA\r\n_PBE: Hitches per game system. Lower is better._\r\n\r\nPer the graph above, FPS hitching started getting worse in 8.15. We encountered significant issues while testing 8.16, but were able to address the worst of them before shipping. New issues then emerged in the second half of 8.17 which we couldn't fully resolve before shipping. Fortunately, we made significant progress in 8.18, with only two systems (one gameplay event handling; the other rendering-related) still elevated above pre-8.15 levels.\r\n\r\n#Complete game freezes\r\nComplete game freezes occur when your game locks up completely, and the only solution is to ALT+F4 and restart the client. This is by far the worst of the issues we're discussing today, but fortunately the one that's been contained. During patch 8.16, we tested a feature meant to dramatically improve FPS for systems with multi-core processors (the one we alluded to earlier). While we saw the FPS gains we were looking for, they unfortunately came with a massive increase in the frequency of game freezes, so we disabled the feature. It was accidentally re-enabled when patch 8.17 shipped, causing another increase in game freezes until we turned it back off again. As of now, game freezes are back under control.\r\n\r\n#Our Next Steps\r\nWe’re continuing testing to try to isolate why some systems were freezing with the multi-core FPS fix. Once that’s ready, we’ll be able to ship a boost to FPS for many players. Otherwise, we’re monitoring FPS and hitching levels in order to ensure that performance issues don’t return. We’re also working toward improving our ability, internally, to attribute performance degradations properly to the game feature they are coming from (VFX, champions, items, etc.) so that we can fix issues faster going forward.","replies":[{"poster":"Deep Terror Nami","date":"2018-09-25T01:40:20.699+0000","up_votes":13,"down_votes":0,"body":"I checked and my in-game performance has not improved; I still suck.","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T02:59:58.691+0000","up_votes":5,"down_votes":0,"body":"Send me your .rpd log (in your performance logs folder) the next time you have a laggy game!","replies":[{"poster":"Myozthirirn","date":"2018-09-25T15:56:59.734+0000","up_votes":21,"down_votes":0,"body":"https://pics.me.me/the-joke-you-31838472.png","replies":[{"poster":"Riot Bazaam","date":"2018-09-25T16:40:09.195+0000","up_votes":10,"down_votes":0,"body":"This was my favorite thing this morning","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T17:02:39.784+0000","up_votes":6,"down_votes":0,"body":"{{sticker:sg-miss-fortune}}","replies":[]}]},{"poster":"Riot Koalifier","date":"2018-09-25T16:38:06.429+0000","up_votes":6,"down_votes":0,"body":"{{sticker:zombie-brand-facepalm}}","replies":[]}]},{"poster":"Kei143","date":"2018-09-25T16:21:12.946+0000","up_votes":1,"down_votes":0,"body":"DTN is referring to how he is still hard stuck in his ELO and can't climb. ","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T16:39:28.479+0000","up_votes":7,"down_votes":0,"body":"I... uh... I have no excuse","replies":[]}]}]}]},{"poster":"TeCoolMage","date":"2018-09-25T17:21:25.565+0000","up_votes":1,"down_votes":0,"body":"ok but how will I climb if I see my teammates feed in full 144 FPS","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T17:24:55.379+0000","up_votes":8,"down_votes":0,"body":"You could always cap your FPS at 60 in your settings to mitigate this issue","replies":[]}]},{"poster":"Terozu","date":"2018-09-25T04:27:56.472+0000","up_votes":8,"down_votes":0,"body":"What about client performance?\n\nThere a _ton_ of idle animations yhat have no business being in Low Spec Mode.","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T05:05:52.069+0000","up_votes":2,"down_votes":1,"body":"Good question! I don't work directly on that, so I don't have the answer :(","replies":[{"poster":"AutoDropped","date":"2018-09-26T08:46:21.992+0000","up_votes":2,"down_votes":0,"body":"Client is part of FPS problems too.","replies":[]}]}]},{"poster":"Naymliss","date":"2018-09-25T00:12:28.622+0000","up_votes":7,"down_votes":0,"body":"Is there a thread on the client performance?\n\nI recently tried to play league on a laptop which was smooth in client and in game with 60+ fps on med-low settings.\n\nNow the client hangs for minutes and I get 25 fps max on the lowest settings, 30ish if I set the resolution to below 720p in game.","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T00:36:47.224+0000","up_votes":3,"down_votes":0,"body":"Are you talking about in-game? Nothing we've done has impacted perf that drastically. \n\nAre you sure that your GPU is being used by the game? It's possible that you're running the game off of CPU and integrated graphics, whereas before you used to be using your GPU. This is a kind of common issue, and what it sounds like from your description.\n\nCan you check to see if your GPU has latest drivers, and if League is using it correctly? This should be configured in your GPU's drivers  / control center.","replies":[]}]},{"poster":"DunkmasterDennis","date":"2018-09-25T00:14:34.390+0000","up_votes":5,"down_votes":0,"body":"OMG YES I KEPT HAVING MY SCREEN FREEZE FOR LIKE 15 MUTHAFUCKIN SECONDS IN ODYSSEY OR RANKED","replies":[{"poster":"Wuks","date":"2018-09-25T00:17:45.202+0000","up_votes":6,"down_votes":3,"body":"> Get a better computer \n\nhehexd","replies":[{"poster":"DunkmasterDennis","date":"2018-09-25T00:25:56.986+0000","up_votes":2,"down_votes":0,"body":"big oof","replies":[]}]}]},{"poster":"DEFEΑT","date":"2018-09-25T19:34:24.201+0000","up_votes":1,"down_votes":0,"body":"Since the new Client my FPS dropped from 700+ to sometimes below 144\n\npls fix\n\n\n+ not beeing able to tab out within seconds since patch X is also very annoying. \n(Has been atleast for the last few months)","replies":[{"poster":"BobaFlautist","date":"2018-09-25T20:25:37.551+0000","up_votes":1,"down_votes":0,"body":"Switching from fullscreen to borderless display (visually identical, it still covers the full screen) makes tabbing out way way faster, for some reason.","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T22:11:16.214+0000","up_votes":3,"down_votes":0,"body":"This is because playing on Borderless does not minimize the game client when you alt+tab. As a result, dx9 doesn't lose your graphics device, so graphics can continue being rendered from memory on your screen. When you tab back in, it's much quicker, because the game doesn't need to redraw your entire game from scratch, which is what happens when you tab back in on fullscreen.","replies":[{"poster":"BobaFlautist","date":"2018-09-25T22:17:20.681+0000","up_votes":1,"down_votes":0,"body":"Oh that's cool to know! Regardless, it seems like a really easy and effective fix without much downside.\n\nI mean I remember there being some minor tradeoffs when I looked up the difference, but none that really impact the cases of \"I tabbed out during loading screen to do something else\" or \"I tabbed out during my death time to change my music.\"","replies":[{"poster":"r xy","date":"2018-09-26T08:55:58.531+0000","up_votes":3,"down_votes":0,"body":"in Fullscreen mode, the game basically stops running if you tab out. in borderless, it just doesnt get shown on the screen so it uses more resources while in background but the transition is smoother","replies":[]}]}]}]},{"poster":"Riot Koalifier","date":"2018-09-25T19:36:42.411+0000","up_votes":2,"down_votes":0,"body":"That was before my time, but IIRC the FPS counter was bugged if you ever had FPS at that level. \n\nWe won't be changing the tabbing out behavior. For the majority of players, we think it's more valuable for them to not crash when tabbing out than for tabbing in/out to be really quick.\n\nIn the future, if we move off of using DirectX9, we will be able to make this a lot smoother. For now, it's the best we've got.","replies":[{"poster":"TomiMan7","date":"2018-09-25T20:51:19.139+0000","up_votes":2,"down_votes":0,"body":"May i ask when will you guys switch from dx9?\nBeing able to utilize more than just 1 core in grapics could make wonders to this game","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T21:00:04.068+0000","up_votes":2,"down_votes":0,"body":"We don't have an exact timeline. Essentially we're monitoring the player numbers across different specs. When the numbers get low enough for the lowest spec (dx9 dependent specs), then we'll start working on upgrading everything and moving to a more \"modern\" standard.\n\n64-bit League the dream","replies":[{"poster":"TomiMan7","date":"2018-09-25T21:40:16.193+0000","up_votes":1,"down_votes":0,"body":"Did you guys ever consider having both dx9 and dx12 at the same time, and being able to switch between?","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T22:08:11.911+0000","up_votes":3,"down_votes":0,"body":"Having both at the same time would be a pretty untenable situation. We'd have to have two completely separate League installs, one for dx9, one for dx12. The likelihood of having pretty serious issues from having those two diverging paths would be pretty high (i.e. pretty high likelihood that we leave behind dx9 players and make cool dx12-only features). That and we'd be in a lot of risk of having various compatibility issues across the two versions, since we'd be double-building, double-deploying, etc. every time we ship LoL.","replies":[]}]}]}]}]}]},{"poster":"R767","date":"2018-09-25T13:39:20.167+0000","up_votes":2,"down_votes":0,"body":"Hello, sorry for my bad English, since I bought my laptop, I have a horrible stuttering if I do not put vsync (which is obviously worse because the minimum fps drop I have already noticed because it drops to 50 or 40 for 1 second and it is so annoying). \nMy fps are high (around 110 on lane) but the feeling is that I'm playing at 20 fps. I know that my specs are not the best but enough to play around 100 fps and 60 fps in teamfights, I sent several tickets to your support site but they have never been able to solve it. Do you know why this can happen? All my drivers are up to date.\n\nSpecs:\nI3 5005u\nNvidia Geforce 920M\n8 gb Ram","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T16:41:16.370+0000","up_votes":2,"down_votes":1,"body":"I can't be sure, but that sounds like an issue I had in the past. Most gaming laptops have both an integrated GPU (leverages your CPU to do graphics processing) and a dedicated GPU (your Nvidia card). I would try to make sure that League of Legends is properly flagged as an application that should use your Nvidia graphics card.","replies":[{"poster":"Bootleg Gay","date":"2018-09-27T14:05:30.470+0000","up_votes":1,"down_votes":0,"body":"By chance do you know how to go about this? (Some of us aren't very tech savy)","replies":[{"poster":"Riot Koalifier","date":"2018-10-01T19:57:14.096+0000","up_votes":2,"down_votes":0,"body":"It varies depending on the driver software that you have. I'd recommend googling the question - \"how do I set my GPU for different applications with [insert GPU here]?\"","replies":[]}]}]}]},{"poster":"iahim98","date":"2018-09-27T02:29:44.925+0000","up_votes":1,"down_votes":0,"body":"Can you give us some examples on the stuffs that caused the performance issues?\nIn the post I see mentioned that in 8.15 the hitching got bad and with the information that this mostly happens with new technologies that push the boundaries used on new/reworked champions and skins I assume that the biggest reason was the Akali rework that got shipped on 8.15 (and if so, is most likely her w smoke), can you confirm whether this is true or not and give some other examples? Just curious.","replies":[{"poster":"Riot Koalifier","date":"2018-10-01T19:55:40.590+0000","up_votes":2,"down_votes":0,"body":"Some of the more common causes of more minor hitches are caused by poorly optimized VFX. The more severe hitches are typically related to anticheat, or issues where some asset wasn't loaded into system memory when the game loaded when it should have been.","replies":[]}]},{"poster":"Elewd","date":"2018-09-28T04:51:02.082+0000","up_votes":2,"down_votes":0,"body":"I know its a rather unknown bug or just nobody talks about it on the forums....\nIs there any info regarding the keyboard hotkeys not working ingame sometimes bug?  Every other game i have to reload a game because my Q W E R 1-6 and B key do not work and i have to manually click the ability icons to use them. i've gone through the ticket system and everytime i do a fix they recommend its good for like a week or 2 and then once a new patch comes out the bug is back....","replies":[{"poster":"Riot Koalifier","date":"2018-10-01T19:54:25.393+0000","up_votes":2,"down_votes":0,"body":"Are you manually modifying your keybinds via your config file? That's what this sounds like. It would probably reset every time you patch, if that's the case. That does not sound like a bug that I've seen.","replies":[{"poster":"Elewd","date":"2018-10-02T01:13:19.742+0000","up_votes":1,"down_votes":0,"body":"i use the ingame hotkey list to set up what i want instantcast on but i don't mess with anything else. its really annoying...","replies":[]},{"poster":"Ataraxas","date":"2018-10-02T00:30:19.249+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=Riot Koalifier,realm=NA,application-id=A7LBtoKc,discussion-id=2Zm3irvX,comment-id=00190000,timestamp=2018-10-01T19:54:25.393+0000)\n>\n> Are you manually modifying your keybinds via your config file? That&#x27;s what this sounds like. It would probably reset every time you patch, if that&#x27;s the case. That does not sound like a bug that I&#x27;ve seen.\n\nHe is not the only one having this bug, me and my friends have had it too. I think it's something wrong on Riot's side. It was prevalent in 8.18 but things have gotten better for me in 8.19. Others may still be having the bug however. During 8.18 I had to click esc several times to fix the bug.","replies":[]}]}]},{"poster":"Brozen","date":"2018-09-28T14:08:57.396+0000","up_votes":2,"down_votes":0,"body":"Hello, I have got a new laptop Lenovo Y520. Unlucky in League of Legends my fps are about 30 on the lowest and the highest settings. In other games everything is ok. Drivers are updated. Game is working on dedticated graphic card. I'm trying to solve this problem with support since 3 weeks. They told me to speak here. Client also works pretty bad, even in low spec mode. I cannot even change runes in time. Please help me.\nCPU: Intel I5 -7300HQ \nGPU: AMD Radeon RX560 \nRAM: 8GB DDR4 \nSystem: Windows 10 Pro","replies":[]},{"poster":"Zakeso","date":"2018-09-26T08:56:19.220+0000","up_votes":2,"down_votes":0,"body":"I noticed about 3/4 patches ago, I was getting massive FPS drops. So I tried a few things such as updating all drivers, Re-installing and connecting to an Ethernet connection. Until I swapped from FullScreen (Boarderless)  to Regular FullScreen, and my FPS went back to normal. Is there any reason as to why this is happened suddenly? Kind of annoying not being able to click on my second monitor and having the game Minimise","replies":[]},{"poster":"Happy Police","date":"2018-09-25T23:13:35.297+0000","up_votes":1,"down_votes":0,"body":"Please add a 240fps cap. 240hz monitors are becoming more common and playing without capped fps is just silly.  Also, in League of memories i get 600fps but I only get 300 max, normally under 240 on live /:","replies":[{"poster":"Riot Koalifier","date":"2018-09-26T01:30:24.218+0000","up_votes":2,"down_votes":0,"body":"240hz monitors are the highest of the high end. I understand that it sucks to not have the game support your best hardware (I also have pretty high end hardware personally, but it isn't really leveraged by League), but the reality is that the game needs to run on some pretty low end hardware. This leaves us with some constraints that make supporting the most cutting edge technology not worth it.\n\nIn the future, when we upgrade to 64bit and dx12, this may be on the table, however.","replies":[]}]},{"poster":"DMT4oZe","date":"2018-09-25T18:29:39.320+0000","up_votes":2,"down_votes":0,"body":"I almost have to sudoku every time I'm on the CSGO reddit. People there just have no clue that rendering more frames than the monitor can show is unnecessary. They're like I used to have 300 fps and now I only have 200 GAME UNPLAYABLE. It's so permeating it might be an inside joke but I doubt it. Then to do that they sacrifice sync. Leaving them with tearing that they're to slow minded to even notice. \"Hurrr durr I better try to heat exhaust my hardware so I can get visual bugs hurr durr\" - every CSGO player ever it seems\n\nPs. Fix your client please it's almost unbearable to get in a game. In task manager it looks like someone had a pretend you're making an enterprise wide system that has to scale for millions assignment in school AND FAILED. For a single user system like wut.","replies":[]},{"poster":"Namîste","date":"2018-09-25T00:14:16.757+0000","up_votes":1,"down_votes":0,"body":"Any plans at all on fixing the client for Mac? I know it's probably the least of your priorities but I'd love to be able to even play normals or even bot games without the game acting up in every game. Miss having 2 computers so my BF and I can play together :(","replies":[{"poster":"Riot Koalifier","date":"2018-09-25T00:38:44.371+0000","up_votes":2,"down_votes":0,"body":"We do make fixes for Mac as part of our normal process. Unfortunately, we have run into issues in the past where Mac would specifically act up, often related to a new OS update. Generally we try to fix those problems, but we're really building a workaround into our game to deal with the new OS change. \n\nAs an example, there was a crash related to the High Sierra update that we were never able to resolve, but eventually Apple identified and fixed the issue.\n\nWhat kinds of issues are you specifically having?","replies":[{"poster":"Namîste","date":"2018-09-25T01:11:42.775+0000","up_votes":1,"down_votes":0,"body":"I don't play much due to issues but the ones that made us stop is after the game it won't let us get to the game lobby. It gets us stuck once game is over...it's been a while since we played but I'm pretty sure it doesn't even take us to the lobby. So we have to restart the whole laptop.\nAlso mouse jumps all over. I dunno if it's the computer itself or the client...but it acts like the game itself is lagging...like it jumps all over the place. Mouse itself works cause use it on PC as well.\n\nLoading time in general games longer to get into game. Always has and I remember back when I was gaming all the time on my mac (before I had PC) I would randomly DC on the loading screen and get bug splats and have to reconnect.","replies":[{"poster":"borna761","date":"2018-09-25T17:11:42.708+0000","up_votes":2,"down_votes":0,"body":"> [{quoted}](name=Namîste,realm=NA,application-id=A7LBtoKc,discussion-id=2Zm3irvX,comment-id=000100000000,timestamp=2018-09-25T01:11:42.775+0000)\n>\n> I don&#x27;t play much due to issues but the ones that made us stop is after the game it won&#x27;t let us get to the game lobby. It gets us stuck once game is over...it&#x27;s been a while since we played but I&#x27;m pretty sure it doesn&#x27;t even take us to the lobby. So we have to restart the whole laptop.\n> Also mouse jumps all over. I dunno if it&#x27;s the computer itself or the client...but it acts like the game itself is lagging...like it jumps all over the place. Mouse itself works cause use it on PC as well.\n> \n> Loading time in general games longer to get into game. Always has and I remember back when I was gaming all the time on my mac (before I had PC) I would randomly DC on the loading screen and get bug splats and have to reconnect.\n\nFor the mouse issue, try going to Settings --> In-Game --> Game --> Turn **off** (ie uncheck) _Use Software Mouse (Vertical Sync must be off)_ - what you described sounds exactly like the issue I was having and this fixed it.","replies":[]}]}]}]},{"poster":"Dirrty","date":"2018-09-25T11:12:39.119+0000","up_votes":2,"down_votes":0,"body":"I'd also like to ask about the V-Sync setting, as far as i know ( my friends as well) Using V-Sync on 60hz Causes an ingame Delay, feels the same as High Ms, and it's been around for as long as i can remember.","replies":[]},{"poster":"Dirrty","date":"2018-09-25T11:10:16.420+0000","up_votes":2,"down_votes":0,"body":"Has anything happened to the Client? It's currently Quite slow and Laggy especially once entering champ select where it used to be just fine, \nSpecs: 1050 Ti i5 2400 8gb ram","replies":[]},{"poster":"Dr Rick Report","date":"2018-09-25T10:55:32.253+0000","up_votes":2,"down_votes":0,"body":"I'm really glad to see that Riot is finally fixing what actually matters for all players, thanks guys! :)\n\nBut is fixing the spectator experience part of this process as well? I'd love to watch some replays, but it's not worth it when I have to restart the client every time I try to seek somewhere.","replies":[]}]}