{"poster":"Riot Morgageddon","date":"2019-12-17T02:56:42.521+0000","title":"The Good, The Bad, and the League: 11/30 - 12/13","subforum":"Live Incident Breakdown","up_votes":2,"down_votes":2,"body":"_Your semi-weekly dose of server problem-os, NA League news, and other! _\r\n\r\nClash was here, and there it went! End of the year patch is incoming, the pre-season is shaking out (for better or worse) and All-Stars is over. Also here’s some problems that happened… \r\n\r\n**Follow-Ups:**\r\n\r\n* **Mac voice still not working properly** Bug grouped with other Mac bugs. More .plist fun (I personally know nothing about Macs, so basically Greek to me).\r\n\r\n**Ongoing**\r\n\r\n* **None**\r\n\r\n**Server Stuff: **\r\n\r\n* **Riot Direct router reboots(12/2, ~10 minutes)** Automated alerting notifies the NOC that there are a lot of game alerts going off for no discernable reason. Several minutes later, the network recovers without external influences. Post-problem investigation finds that a router decided to reboot (not the TV show, which was cool back in the day) on its own. \r\n\r\n* **Core service flatlines, causing problems(12/2, ~66 minutes)** Automated alerts notifies the NOC that a core service is reporting 0 processing power. The noc escalates to the on-call LP as Compensation mode is enabled. Engineers restart the affected service and verify the correct processing power is allocated to it after the reboot. Comp mode is then disabled as the service stabilizes. \r\n\r\n* **All-Star page not loading in LCU(12/4, ~42 minutes)** A Rioter reports to the NOC that the All-Stars tab within the client isn’t loading. NOC verifies they can’t open it either, and pings the proper team. Before the team gets knee-deep in coding a fix, the problem disappears as all affected parties are able to access the tab without issue. \r\n\r\n* **Preferences not resetting(12/7, ~4 hours)** Automated alerting notifies the NOC that one core process isn’t completing a self-loop properly. Escalation and investigation shows that one of two core machines are causing the overall problems. Engineers reboot both machines and watch to see if the self-loop finishes properly (which it eventually does).  \r\n\r\n* **Disabled Practice Tool(12/7, ~205 minutes)** NOC is notified by automated alerting that CPU usage across game servers is approaching warning limits. To ensure the limit isn’t exceeded, the NOC disables practice tool games briefly, alleviating the load slightly. Once the CPU usage falls back to normal levels, the NOC re-enables practice tool and removes all ticker updates. \r\n\r\n* **Loot Outage(12/7, ~222 minutes)** Automated alerting notifies the NOC of a possible problem with Loot. Engineers report there are issues with Loot, and the NOC disables the service so it can be triaged. Investigation leads to a failure to properly load balance. Future load balancing is added to a post-mortem, and Loot is re-enabled. Engineers verify all pending Loot was delivered properly. \r\n\r\n* **Loot Outage(12/8, ~3 hours)** See above\r\n\r\n* **Loot Delay(12/13, ~5 minutes)** See above\r\n\r\n* **Custom Player game minimum set to 5(12/7, ~201 minutes)** NOC is notified by automated alerting that CPU usage across game servers is approaching warning limits. To ensure the limit isn’t exceeded, the NOC sets custom games to a minimum of 5 players, alleviating the load slightly. Once the CPU usage falls back to normal levels, the NOC re-enables practice tool and removes all ticker updates.\r\n\r\n* **CPU Mitigation Steps(12/8, ~2 hours)** Reports filter in that the CPU usage is above the ideal threshold. In response, the NOC disables the practice tool, sets minimum custom players to 10 per game, and starts throttling non-ranked queues. Once the CPU usage falls below the red line, the NOC returns all queues to normal. \r\n\r\n* **CPU Mitigation Steps(12/8, ~2 hours)** See above\r\n\r\n* **Club Tag and Chat not loading(11/27, ~7 hours)** Rioter reports filter into the NOC about chat/club tags not loading properly. NOC escalates to the appropriate Riot team while also setting up tickers across Riot Regions. A Rioter discovers a certificate expired, causing the problems. The suspect certificate is updated, fixing the problem. \r\n\r\n* **Match History is down(12/10, ~25 minutes)** The NOC is notified by Rioters that Match History isn’t populating properly. Investigation shows a config update caused the core service to fail to update. After flipping a specific switch, Match History starts working again. \r\n\r\n* **Aphelios’ ability videos in LCU not working(12/11, ~22 hours)** Player Support notifies the NOC that various Aphelios abilities are not working inside of the LCU. NOC starts to troubleshoot, eventually escalating to appropriate Riot teams. Investigation shows that because Aphelios has no E, there’s no E video, leading to problems with displaying the R video. Look at him go, confusing people in AND out of game. Future fix to be deployed with 10.1 patch.\r\n\r\n* **LCU Home tab failing to load(12/12, ~65 minutes)** An update pushed to the client, propagates and contains incorrect info in header. This incorrect info causes the Home tab within the LCU to break. Investigation and escalation leads to the discovery of the owner and code causing the problem. Reverting the update fixes the issue, and a future update will not include the incorrect code. \r\n\r\n**Game Stuff: **\r\n\r\n* **Legend of Poro King not granting Event points(12/12, ~9 hours)** NOC activates the Night &amp; Dawn event pass, as well as enabling Legend of the Poro King. Reports filter in that the Legend of the Poro King mode is granting no event points to Event pass owners. Investigation shows a single variable has been subbed out incorrectly within a config setting. A micropatch rolls out to fix the variable, which will grant Event points for playing Legend of the Poro King. \r\n\r\n_Morgageddon_","replies":[{"poster":"MalrothDragonia","date":"2019-12-17T14:04:55.085+0000","up_votes":2,"down_votes":0,"body":"Any updates on why chat/friends list keep malfunctioning? Almost my entire play group is having this issue. Groups deleted, unable to recreate, or drag friends into groups.","replies":[{"poster":"Riot Morgageddon","date":"2019-12-17T20:09:43.574+0000","up_votes":2,"down_votes":0,"body":"> [{quoted}](name=MalrothDragonia,realm=NA,application-id=6WpmgL9O,discussion-id=rsMMFmNl,comment-id=0001,timestamp=2019-12-17T14:04:55.085+0000)\n>\n> Any updates on why chat/friends list keep malfunctioning? Almost my entire play group is having this issue. Groups deleted, unable to recreate, or drag friends into groups.\n\nI think it has to do with back-end changes that they're implementing; I saw a bunch of internal Riot chats over what broke and why, so I have to assume most/all will be fixed, just not sure if it'll be this patch cycle or not.","replies":[]},{"poster":"Lady Septimus","date":"2019-12-17T19:23:49.141+0000","up_votes":1,"down_votes":0,"body":"YEAH good question, why was this not included in the weekly update? I've seen multiple posts and yet no red comments! this is an issue :( >:(","replies":[{"poster":"Riot Morgageddon","date":"2019-12-17T20:13:52.274+0000","up_votes":1,"down_votes":0,"body":"> [{quoted}](name=Lady Septimus,realm=NA,application-id=6WpmgL9O,discussion-id=rsMMFmNl,comment-id=00010000,timestamp=2019-12-17T19:23:49.141+0000)\n>\n> YEAH good question, why was this not included in the weekly update? I've seen multiple posts and yet no red comments! this is an issue :( >:(\n\nDepending on the issue, some stuff is added and some isn't. I don't see any JIRA bug related to game crashing upon start of game within the past few months. I'll look up to the start of this year to see if I missed any open bug, but I don't see one in our internal tracking system, so I can't put anything in ongoing if I don't see something being worked on :(.","replies":[]}]}]},{"poster":"Malix Farwin","date":"2019-12-17T09:53:14.169+0000","up_votes":2,"down_votes":0,"body":"Nice client issues aren't listed. So its gonna be 2 months before they notice that everytime the game is started multiple crash reports are sent out.","replies":[]},{"poster":"LTN","date":"2019-12-31T03:01:05.748+0000","up_votes":1,"down_votes":0,"body":"Have you heard anything about the summoner ID showing as summoner names in various places in the client? (Champ select, clubs, specifically people not on ones friends list?)","replies":[]},{"poster":"beppedessi","date":"2019-12-18T20:11:47.943+0000","up_votes":1,"down_votes":0,"body":"#For all MacOS users \nWe can't use voice chat from one year, so just follow this [GUIDE](https://www.reddit.com/r/leagueoflegends/comments/ay9o4s/how_to_fix_voice_chat_in_macos_mojave/) on Reddit to fix it. Riot can't fix it for you, so do it by yourself!\n\n> Follow-Ups:\n>\n>Mac voice still not working properly Bug grouped with other Mac bugs. More .plist fun (I personally know nothing about Macs, so basically Greek to me).\n\n...","replies":[]},{"poster":"Vorzüglich","date":"2019-12-18T02:35:51.273+0000","up_votes":1,"down_votes":0,"body":"Thanks for the details and huge list. \n\nAppreciate the effort, keep it coming.","replies":[]}]}