{"poster":"MXXIV","date":"2015-02-03T19:18:12.850+0000","title":"When you use cdn, it should be cached. omniture_code.js slows down the site horribly","subforum":"Boards Feedback","up_votes":6,"down_votes":0,"body":"I've reported so many problems with Riot websites without achieving anything that I give this a little chance. Anyway, every time I load a page here, on boards, my browser is waiting for `cdn.leagueoflegends.com`. How pathetic. What's the purpose of content delivery network if  it's not cached and **receives cookies**. And you have quite a bunch of cookies in browser - 2.1 kilobytes. Every request, even for images and other static data sends **2.1 kilobytes** of useless data. All necessary?\r\n\r\nAnyway, the file that's really slowing it is http://cdn.leagueoflegends.com/omniture/0.0.2/js/omniture_code.js I have no idea why, but it takes 21 seconds to load.\r\n\r\nYou know this is not a sandbox. You should focus on performance, not play around and making ineffective experiments. And I'm not talking just about board here but even the whole site in general.\r\n\r\n![image description](http://i.stack.imgur.com/5WiRC.png)\r\n\r\n*Normal site* only loads the HTML once the cache has been primed.","replies":[{"poster":"MaliceCity","date":"2015-02-09T19:37:37.570+0000","up_votes":3,"down_votes":0,"body":"There was a specific issue with that file on our CDN that affected players in Europe (and only Europe for some reason), but it should be resolved now. Sorry about that!","replies":[{"poster":"MXXIV","date":"2015-02-10T00:01:28.018+0000","up_votes":1,"down_votes":0,"body":"Thank you! I checked and really many files (though not all yet) are now cached. I'm happy to see a progress being made. I can't check the specific file until I find my filter and delete it. Since the file was useless I'm hesitant to do so.\n\nThere is still a loader.en_US.js file 215KB (1/4MB large) that is not cached. It's cache lifetime is set to 300 seconds which is, in my opinion, pretty short. I'm sure you can set a longer delay if the script is written properly and will catch missing localisation problems.","replies":[]}]},{"poster":"MXXIV","date":"2015-02-03T19:31:24.943+0000","up_votes":2,"down_votes":0,"body":"#Hotfix:\n\nIf you have Ad-Block+, you can block these two scripts without (according to my experience) breaking the page:\n\n  -  http://cdn.leagueoflegends.com/omniture/0.0.2/js/omniture_code.js\n  -  http://boards.na.leagueoflegends.com/js/analytics.js\n\n#More fix:\n\nFurther more, if you have Greasomonkey, you can add http://sandworm.cdn.leagueoflegends.com/loader.en_US.js, which is necessary, as an userscript:\n\n> // ==UserScript==\n> // @name        loader.en_US\n> // @namespace   whatever\n> // @description Faster way to load the script for league of legends forums to work\n> // @include     *leagueoflegends.com*\n> // @version     1\n> // @grant       none\n> // ==/UserScript==\n> //Copy and paste script contents below\n> (oh yeah, this forum doesn't support code block. Very nice)\n\nThen block it too.\n\nAfter this, the page loading speed changes from 33seconds to 10 seconds. While this is still very bad, it's bearable. Too bad I had to optimize the site for myself.","replies":[]},{"poster":"Mama Soraka","date":"2015-02-06T13:28:05.092+0000","up_votes":1,"down_votes":0,"body":"Yea, I can't stand the site without adblock, scriptsafe and ghostery blocking all the needless garbage. Makes it load much snappier, too.","replies":[]}]}